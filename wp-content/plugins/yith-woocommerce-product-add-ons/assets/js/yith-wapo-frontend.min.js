jQuery(function(q){"use strict";if(q("textarea.ywapo_input.ywapo_input_textarea").keydown(function(t){if(13==t.keyCode){var a,e,o=this.value;return"number"==typeof this.selectionStart&&"number"==typeof this.selectionEnd?(a=this.selectionStart,this.value=o.slice(0,a)+"\n"+o.slice(this.selectionEnd),this.selectionStart=this.selectionEnd=a+1):document.selection&&document.selection.createRange&&(this.focus(),(e=document.selection.createRange()).text="\r\n",e.collapse(!1),e.select()),!1}}),"undefined"==typeof yith_wapo_general)return!1;var p=!1,S="",A=null;function a(){var t=q(".woocommerce-main-image > img.wp-post-image, div.product div.images > img");0<t.length&&(S=t.attr("src")),q("body").find("form:not(.in_loop).cart").each(function(){q(this).init_yith_wapo_totals(),q(this).find(".variations select").change()}),q("body").find(".wapo_option_tooltip").each(function(){var t,a,e,o,i=q(this).data("tooltip");i&&(t=q(this),a=i,e=q('<span class="yith_wccl_tooltip"></span>'),o=yith_wapo_general.tooltip_pos+" "+yith_wapo_general.tooltip_ani,e.addClass(o),t.append(e.html("<span>"+a+"</span>")))}),function(){var t=q("#yith_wapo_groups_container").hasClass("enable-collapse-feature"),a=q("#yith_wapo_groups_container").hasClass("enable-alternate-collapse"),e=q("#yith_wapo_groups_container").hasClass("show-addons-collapsed"),o=q("#yith_wapo_groups_container .ywapo_group_container h3").css("height");(t||a)&&(e?(q("#yith_wapo_groups_container .ywapo_group_container h3").parent().find("div").hide(),q("#yith_wapo_groups_container .ywapo_group_container h3").css("cursor","pointer").prepend('<span class="dashicons dashicons-arrow-right"></span> '),q("#yith_wapo_groups_container .ywapo_group_container h3 .dashicons").css("height",o).css("line-height",o),q("#yith_wapo_groups_container .ywapo_group_container h3").hasClass("toggle-open")&&q(".dashicons",this).removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down"),q("#yith_wapo_groups_container .ywapo_group_container h3").click(function(){q(this).hasClass("toggle-open")?(q(this).removeClass("toggle-open").addClass("toggle-closed"),q(".dashicons",this).removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right")):(q(this).removeClass("toggle-closed").addClass("toggle-open"),q(".dashicons",this).removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down")),q(this).parent().find("div").toggle("fast")}),q("#yith_wapo_groups_container .ywapo_group_container h3").removeClass("toggle-open").addClass("toggle-closed").parent().find("div").hide(),q("#yith_wapo_groups_container .ywapo_group_container h3 .dashicons").removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right")):(q("#yith_wapo_groups_container .ywapo_group_container h3").css("cursor","pointer").prepend('<span class="dashicons dashicons-arrow-down"></span> '),q("#yith_wapo_groups_container .ywapo_group_container h3 .dashicons").css("height",o).css("line-height",o),q("#yith_wapo_groups_container .ywapo_group_container h3").hasClass("toggle-closed")&&q(".dashicons",this).removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right"),q("#yith_wapo_groups_container .ywapo_group_container h3").click(function(){q(this).hasClass("toggle-closed")?(q(this).removeClass("toggle-closed").addClass("toggle-open"),q(".dashicons",this).removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down")):(q(this).removeClass("toggle-open").addClass("toggle-closed"),q(".dashicons",this).removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right")),q(this).parent().find("div").toggle("fast")}),q("#yith_wapo_groups_container .ywapo_group_container.collapsed h3").removeClass("toggle-open").addClass("toggle-closed"),q("#yith_wapo_groups_container .ywapo_group_container.collapsed h3 .dashicons").removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right"),q("#yith_wapo_groups_container .ywapo_group_container.collapsed div").toggle("fast")),a&&(q("#yith_wapo_groups_container .ywapo_group_container:first-child h3").removeClass("toggle-closed").addClass("toggle-open").parent().find("div").show(),q("#yith_wapo_groups_container .ywapo_group_container:first-child h3 .dashicons").removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down")))}(),q(".ywapo_input_container_color .wp-color-picker").wpColorPicker({change:function(t,a){var e=q(this).closest(".ywapo_input_container_color").find("input.ywapo_input_color");e.val(a.color.toString()),e.change()},clear:function(){var t=q(this).closest(".ywapo_input_container_color").find("input.ywapo_input_color");t.val(""),t.change()}}),q(".ywapo_datepicker").each(function(){q(this).datepicker({dateFormat:yith_wapo_general.date_format})});var a=q(".fusion-body select.ywapo_input");0<a.length&&(a.addClass("avada-select"),a.wrap('<div class="avada-select-parent"></div>').after('<div class="select-arrow">&#xe61f;</div>')),c()}function c(){var t=q(".quantity input.qty").val();0<!t&&(t=0),q(".ywapo_group_container").not(".ywapo_conditional_hidden, .ywapo_conditional_matched, .ywapo_conditional_variation_hidden, .ywapo_conditional_variation_matched").hide();for(var a=0;a<=t;a++)q(".ywapo_group_container.min_qty_"+a).not(".ywapo_conditional_hidden, .ywapo_conditional_matched, .ywapo_conditional_variation_hidden, .ywapo_conditional_variation_matched").show()}q.fn.init_yith_wapo_totals=function(){function n(t){var a,e=q(".yith_wapo_group_total");a=t.find("form > div.quantity > input.qty").length?parseFloat(t.find("form > div.quantity > input.qty").val()):t.find("form.cart input.qty").length?parseFloat(t.find("form.cart input.qty").val()):1;var o,s,p,i=(s=a,p=0,(o=t).find(".ywapo_input").each(function(){var t=q(this).closest(".ywapo_group_container");window["selected_options_"+t.attr("id")]=t.find('.ywapo_input:checked, select.ywapo_input option:selected, input[type="text"].ywapo_input, input[type="number"].ywapo_input, input[type="file"].ywapo_input, input[type="color"].ywapo_input, input[type="date"].ywapo_input,input[type="hidden"].ywapo_input ,textarea.ywapo_input').length,window["first_options_free_"+t.attr("id")]=t.data("first-options-free"),window["first_options_free_temp_"+t.attr("id")]=t.data("first-options-free-temp")}),o.find('.ywapo_input:checked, select.ywapo_input option:selected, input[type="text"].ywapo_input, input[type="number"].ywapo_input, input[type="file"].ywapo_input, input[type="color"].ywapo_input, input[type="date"].ywapo_input,input[type="hidden"].ywapo_input ,textarea.ywapo_input').each(function(){var t=q(this),a=(t.closest("form.cart"),s),e=t.closest(".ywapo_group_container");if(e.find('.ywapo_input:checked, select.ywapo_input option:selected, input[type="text"].ywapo_input, input[type="number"].ywapo_input, input[type="file"].ywapo_input, input[type="color"].ywapo_input, input[type="date"].ywapo_input,input[type="hidden"].ywapo_input ,textarea.ywapo_input').length,e.data("first-options-free"),void 0!==e&&!e.hasClass("ywapo_conditional_hidden")&&!e.hasClass("ywapo_conditional_variation_hidden")){var o,i=e.data("type"),n=!1;switch("1"==e.data("sold-individually")&&(a=1),i){case"number":""!=t.val().trim()&&0!=t.val().trim()&&(n=!0);break;case"text":case"textarea":case"file":case"color":case"date":case"labels":case"multiple_labels":""!=t.val().trim()&&(n=!0);break;default:n=!0}n&&(window["first_options_free_"+e.attr("id")]<window["selected_options_"+e.attr("id")]?0==window["first_options_free_temp_"+e.attr("id")]?o=t.data("price"):(o=0,window["first_options_free_temp_"+e.attr("id")]--):o=0,void 0!==o&&0!=o&&(p+=parseFloat(o)*parseFloat(a)))}var r="standard";yith_wapo_general.alternative_replace_image&&(r=yith_wapo_general.alternative_replace_image),"paul"==r&&!t.closest(".ywapo_input_container").hasClass("ywapo_selected")||m(e,this)}),p),e=q(".yith_wapo_group_total"),n=parseFloat(e.data("product-price"));0<q(".yith-wcpb-product-bundled-items").length&&0<f()&&(n=f()),q(".product").hasClass("product-type-gift-card")&&(n=void 0!==q("#ywgc-manual-amount").val()&&0<q("#ywgc-manual-amount").val().length?q("#ywgc-manual-amount").val():q(".ywgc-amount-buttons.selected_button").val());var r,c=e.find(".yith_wapo_group_product_price_total span.price");0<n?(r=k(n*a),c.html(r),c.show()):(c.html(""),c.hide());var d=e.find(".yith_wapo_group_option_total span.price"),l=k(i);d.html(l);var _,u,h=e.find(".yith_wapo_group_final_total span.price"),y=k(_=n*a+i),w=jQuery(".yith_wapo_group_total").data("tax-rate"),g=jQuery(".yith_wapo_group_total").data("tax-string");0<w?(u=k(_*(w/100+1)),h.html(y+" / "+u+g+w+"%")):h.html(y),yith_wapo_general.keep_price_shown||0!=i?e.fadeIn():e.fadeOut(),function(t,a){var e=q(".ywcp_wcp_group_total");{var o,i,n;1==e.length&&(o=q("#ywcp_wcp_tr_wapo_option_total"),i=q(".yith_wcp_wapo_add_ons_total span.amount"),0<t?(n=t+a,e.data("product-price",n),e.attr("data-product-price",n),o.removeClass("ywcp_wapo_total_hided"),i.html(k(t))):(e.data("product-price",a),e.attr("data-product-price",a),o.addClass("ywcp_wapo_total_hided"),i.html(k(0))),q(document).trigger("ywcp_calculate_total"))}}(i,n),q(document).trigger("yith_wapo_product_price_updated",[n+i])}function f(){return parseFloat(q(".yith-wcpb-wapo-bundle-product-price").val())}function r(n,t,r,s,p,c,d){var a=q(".yith_wapo_group_total").data("product-id");0<r.length&&(i(s),q.ajax({url:yith_wapo_general.wc_ajax_url.toString().replace("%%endpoint%%","yith_wapo_get_calculated_display_price"),type:"POST",data:{product_id:a,product_price:t,type_id:r.data("typeid"),option_index:r.data("index"),option_value:r.val()},success:function(t){if(t.error||""==t)return 0;r.data("price",t),r.attr("data-price",t);var a,e,o,i=k(parseFloat(t));p.find("span.amount").html(i),""!=r.text()&&(0<(a=r.text().split("+")).length&&(a=a[0]+" + "+i,r.addClass("ywapo_option_price_changed"),void 0!==(e=r.closest(".ywapo_group_container").find("select").attr("sb"))&&(o=r.data("index"),q(q("#sbOptions_"+e).find("li").get(parseInt(o)+1)).find("a").html(a))),r.html(a),c&&n.trigger("yith-wapo-product-option-update")),d&&r.trigger("yith-wapo-product-price-changed"),l(s)}}))}function m(t,a){var e=t.data("change-featured-image"),o="standard";if(yith_wapo_general.alternative_replace_image&&(o=yith_wapo_general.alternative_replace_image),e)if("alternative"==o||"yes"==o){var i=q(a),n=q(".single-product .woocommerce-product-gallery .wp-post-image, .yith-quick-view-content .woocommerce-main-image img, .fl-photo-content img"),r=q(".single-product .woocommerce-product-gallery .zoomImg"),s=n.attr("src"),p=r.attr("src"),c=v(i,t),d=i.closest(".ywapo_input_container");if(c&&"labels"==t.data("type")&&!d.hasClass("ywapo_selected"))return;var l=w(t,i,d);c&&""!=l&&l!=S&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")?(n.removeAttr("srcset"),n.removeAttr("srcsize"),n.attr("src",l),n.attr("data-src",l),n.attr("data-large_image",l),r.attr("src",l),r.siblings("a").attr("href",l),A=t,g(l)):null!=A&&(n.removeAttr("srcset"),n.removeAttr("srcsize"),n.attr("src",s),r.attr("src",p),g(s))}else if("paul"==o){var i=q(a),_=q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper"),u=q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:not(.clone)").length,h=(y=q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:first-child")).width(),c=v(i,t),d=i.closest(".ywapo_input_container"),l=w(t,i,d);if(c&&"labels"==t.data("type")&&!d.hasClass("ywapo_selected"))return;c&&""!=l&&0<u&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")&&q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper a").attr({href:l}).find("img").removeAttr("srcset").removeAttr("srcsize").attr("src",l)}else if("divi"==o){i=q(a),n=q(".single-product .sb_woo_product_image > img, img.wp-post-image"),r=q(".single-product .zoomImg"),s=n.attr("src"),p=r.attr("src"),c=v(i,t),d=i.closest(".ywapo_input_container");if(c&&"labels"==t.data("type")&&!d.hasClass("ywapo_selected"))return;l=w(t,i,d);c&&""!=l&&l!=S&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")?(n.removeAttr("srcset"),n.removeAttr("srcsize"),n.attr("src",l),n.attr("data-src",l),n.attr("data-large_image",l),r.attr("src",l),r.siblings("a").attr("href",l),A=t,g(l)):null!=A&&(n.removeAttr("srcset"),n.removeAttr("srcsize"),n.attr("src",s),r.attr("src",p),g(s))}else{var y,i=q(a),_=q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper"),u=q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:not(.clone)").length,h=(y=q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:first-child")).width(),c=v(i,t),d=i.closest(".ywapo_input_container"),l=w(t,i,d);if(c&&"labels"==t.data("type")&&!d.hasClass("ywapo_selected"))return;c&&""!=l&&0<u&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")&&(q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .clone").remove(),y.clone().addClass("clone").appendTo(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper"),u<2&&(_.attr("style","width: 200%; transition-duration: 0s;"),q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper > div").attr("style","width: "+h+"px; margin-right: 0px; float: left; display: block; position: relative; overflow: hidden;")),_.css("transform","translate3d(-"+u*h+"px, 0px, 0px)"),_.parent().hasClass("flex-viewport")||_.wrap('<div class="flex-viewport" style="overflow: hidden; position: relative; height: '+h+'px;"></div>'),q(".single-product .woocommerce-product-gallery .woocommerce-product-gallery__wrapper .clone img").removeAttr("srcset").removeAttr("srcsize").attr("src",l))}}function w(t,a,e){var o,i,n=a.parents("select").find("option:selected");return void 0!==n&&1==n.length&&void 0!==n.data("image-url")&&0<n.data("image-url").length?n.data("image-url"):(o="standard",yith_wapo_general.alternative_replace_image&&(o=yith_wapo_general.alternative_replace_image),1==(i=e.find(".ywapo_single_option_image")).length||1==(i=t.find(".ywapo_product_option_image > img")).length?"paul"==o||"divi"==o?i.attr("fullsize"):i.attr("src"):S)}function g(t){var a,e,o;"undefined"!=typeof yith_magnifier_options&&(a=q(".yith_magnifier_zoom"),e=q(".yith_magnifier_zoom img"),a.attr("href",t),e.attr("src",t),e.attr("srcset",t),e.attr("src-orig",t),(o=q(".images")).data("yith_magnifier")&&o.yith_magnifier("destroy"),o.yith_magnifier(yith_magnifier_options))}function o(t){var d=!0;return t.find(".ywapo_group_container").each(function(){var t=q(this);if(void 0!==t&&!t.hasClass("ywapo_conditional_hidden")&&!t.hasClass("ywapo_conditional_variation_hidden")){var a,e,o,i,n=t.data("type"),r="1"==t.data("requested"),s="1"==t.data("requested-all-options"),p=s,c=t.data("max-item-selected");switch(n){case"text":case"textarea":case"number":case"file":case"date":case"range":case"color":"1"==t.data("max-input-values-required")||"1"==t.data("min-input-values-required")?p=!(r=!0):(a=t.find("input.ywapo_input, textarea.ywapo_input, input.ywapo_input_color"),e=0,a.each(function(){""!=q(this).val()&&e++}),0<c&&c==e?p=!0:a.each(function(){if(s){if(""==q(this).val()&&"required"==q(this).attr("required"))return void(p=!(r=!0));if(""==q(this).val())return void(p=!1)}else if(""!=q(this).val())return void(p=!0)}));break;case"checkbox":r?(o=t.find(".ywapo_input").length,i=t.find(".ywapo_input:checked").length,p=s?0<o&&(o==i||0<c&&o==c):0<o&&0<i):t.find(".ywapo_input").each(function(){q(this).is(":checked")||"required"!=q(this).attr("required")||(p=!(r=!0))});break;case"select":p=""!=t.find("select.ywapo_input").val();break;case"labels":case"multiple_labels":p=0<t.find(".ywapo_input_container_labels.ywapo_selected").length;break;case"radio":p=!1,t.find("input.ywapo_input").each(function(){q(this).is(":checked")&&(p=!0)})}if(r&&!p)return d=!1,t.addClass("ywapo_miss_required"),void q([document.documentElement,document.body]).animate({scrollTop:q("#yith_wapo_groups_container").offset().top},10);t.removeClass("ywapo_miss_required")}}),d}function i(t){t.block({message:"",overlayCSS:{backgroundColor:"#fff",opacity:.6,cursor:"wait"}})}function l(t){t.unblock()}function v(t,a){var e=a.data("type"),o=!1;if("select"==e)o=""!=t.val();else if("radio"==e)o=t.is(":checked");else switch(e){case"checkbox":a.find('input[type="checkbox"].ywapo_input').each(function(){q(this).is(":checked")&&(o=!0)});break;case"labels":var i=0;a.find('input[type="hidden"].ywapo_input').each(function(){if(""!=q(this).val())return i++,!0}),o=0<i;break;case"text":case"number":case"file":case"color":case"date":case"range":a.find("input.ywapo_input").each(function(){""==q(this).val()||(o=!0)});break;case"textarea":a.find("textarea.ywapo_input").each(function(){""==q(this).val()||(o=!0)})}return o&&a.removeClass("ywapo_miss_required"),o}function b(t,a){var e=q.inArray(t,a);if(-1==e)for(var o=0;o<a.length;o++){if(0<=a[o].indexOf(","))if(t==a[o].split(",")[0].toString()){e="option";break}}return e}function C(t){t.find("input, select, textarea").each(function(){q(this).removeAttr("disabled"),q(this).change()})}function x(t){t.find("input, select, textarea").each(function(){q(this).attr("disabled","disabled")});var a=t.data("id");q(".ywapo_conditional_matched_"+a).each(function(){var t=q(this);t.addClass("ywapo_conditional_hidden"),x(t)})}function s(t){var o=p?p.variation_id.toString():0;t.find(".ywapo_group_container").each(function(){var t,a,e=q(this).closest(".ywapo_group_container");void 0!==e&&(t=e.data("id"),0<(a=function(t){var a=t.data("condition-variations");""!=a&&(a=a.toString().split(","));return a}(e)).length&&(0<=q.inArray(o,a)?(e.removeClass("ywapo_conditional_variation_hidden"),e.addClass("ywapo_conditional_variation_matched"),e.hasClass("ywapo_conditional_hidden")||C(e)):(e.addClass("ywapo_conditional_variation_hidden"),e.removeClass("ywapo_conditional_variation_matched"),x(e),q(".ywapo_conditional_matched_"+t).each(function(){var t=q(this);t.addClass("ywapo_conditional_hidden"),x(t)}))))})}function k(t){return"undefined"==typeof accounting?t:accounting.formatMoney(t,{symbol:yith_wapo_general.currency_format_symbol,decimal:yith_wapo_general.currency_format_decimal_sep,thousand:yith_wapo_general.currency_format_thousand_sep,precision:yith_wapo_general.currency_format_num_decimals,format:yith_wapo_general.currency_format})}q("body").on("change",".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea, div.quantity > input.qty",function(t){c();var a,e,o=q(this),i=o.closest(".ywapo_group_container");void 0===o.data("pricetype")||"calculated_multiplication"!=o.data("pricetype")&&"calculated_character_count"!=o.data("pricetype")||""==o.val()||(a=o.find("form.cart"),e=o.closest(".ywapo_input_container"),r(a,1,o,i,e,!1,!0)),q(this).trigger("yith-wapo-product-option-conditional",o),q(this).trigger("yith-wapo-product-option-update"),m(i,q(this).find(":selected"))}),q(this).on("change mouseleave",'.yith_wapo_calculate_quantity input[type="number"]',function(t){var a=0;q("body").find('.yith_wapo_calculate_quantity input[type="number"]').each(function(){var t=q(this).val();""!=t&&(a+=parseInt(t))});var e=q(this).closest("form").find('div.quantity > input[name="quantity"]');0==e.closest(".ywcp_component_options_selection_container").length&&(0<a?(e.val(a),e.attr("readonly","readonly")):(e.val(e.attr("min")),e.removeAttr("readonly"))),n(q(this).closest("form.cart"))}),q(this).on("found_variation",function(t,a){var e,o;q(t.target).hasClass("ywcp_inner_selected_container")||q(t.target).hasClass("bundled_item_cart_content")||(e=q(".yith_wapo_group_total"),void(o=0)!==(p=a).display_price?o=a.display_price:q(a.price_html).find(".amount:last").length&&(q(".cart"),o=k(o=q(a.price_html).find(".amount:last").text())),e.data("product-price",o),e.attr("data-product-price",o),function(a){var p=q(".yith_wapo_groups_container");{var c,d;void 0!==p&&(c=p.find("input.ywapo_input.ywapo_price_percentage, select.ywapo_input option.ywapo_price_percentage, textarea.ywapo_input.ywapo_price_percentage"),d=0,c.each(function(){var r,t,s=q(this);void 0!==s.data("pricetype")&&"fixed"!=s.data("pricetype")&&(r=s.closest(".ywapo_input_container"),t=s.val(),q.ajax({url:yith_wapo_general.wc_ajax_url.toString().replace("%%endpoint%%","yith_wapo_update_variation_price"),type:"POST",data:{variation_id:a.variation_id,variation_price:a.display_price,type_id:s.data("typeid"),option_index:s.data("index"),option_value:t},beforeSend:function(){0==d&&i(p)},success:function(t){var a,e,o,i,n;t.error||""==t||(s.data("price",t),s.attr("data-price",t),a=k(parseFloat(t)),r.find("span.amount").html(a),""!=s.text()&&(o=s.text().includes("+")?(e=s.text().split("+"),"+"):(e=s.text().split("-"),""),0<e.length&&(e=e[0]+" "+o+" "+a,s.addClass("ywapo_option_price_changed"),void 0!==(i=s.closest(".ywapo_group_container").find("select").attr("sb"))&&(n=s.data("index"),q(q("#sbOptions_"+i).find("li").get(parseInt(n)+1)).find("a").html(e))),s.html(e)),++d==c.length&&(c.closest("form.cart").trigger("yith-wapo-product-option-update"),l(p)))}}))}))}}(a),s(q(this)),q(this).trigger("yith-wapo-product-option-update"))}),q(this).on("hide_variation",function(t){q(t.target).hasClass("ywcp_inner_selected_container")||(p=!1,s(q(this)),q(this).trigger("yith-wapo-product-option-update"))}),q("body").on("yith-wapo-product-option-update yith-wapo-product-price-changed",function(){n(q(this))}),q(this).on("click",".ywapo_input_container.ywapo_input_container_labels",function(t){var a,e=q(this).find('input[type="hidden"]');""!=e.val()?(e.val(""),q(this).removeClass("ywapo_selected")):((a=q(this).closest(".ywapo_group_container_labels").find(".ywapo_input_container.ywapo_input_container_labels")).removeClass("ywapo_selected"),a.find('input[type="hidden"]').val(""),q(this).addClass("ywapo_selected"),e.val(e.data("index"))),q(this).trigger("yith-wapo-product-option-conditional",e),q(this).trigger("yith-wapo-product-option-update")}),q(this).on("yith-wapo-product-option-conditional",function(t,a){var e=q(a).closest(".ywapo_group_container");!function(t,a,e){var g=e.data("id");{var f;void 0!==g&&(f=function(t,a){var e=a.data("type"),o=[];switch(e){case"radio":t.is(":checked")&&(o[0]=t.val());break;case"select":o[0]=t.val();break;case"checkbox":var i=0;a.find('input[type="checkbox"].ywapo_input').each(function(){q(this).is(":checked")&&o.push(i.toString()),i++});break;case"labels":a.find('input[type="hidden"].ywapo_input').each(function(){""!=q(this).val()&&o.push(q(this).val())});break;case"text":case"number":case"file":case"color":case"date":case"range":i=0;a.find("input.ywapo_input").each(function(){""!=q(this).val()&&o.push(i.toString()),i++});break;case"textarea":i=0;a.find("textarea.ywapo_input").each(function(){""!=q(this).val()&&o.push(i.toString()),i++})}return o}(q(a),e),new Array,t.find(".ywapo_group_container").each(function(){var a,e,t=q(this).closest(".ywapo_group_container");if(void 0!==t){var o=t.data("id");if(g!=o){var i=t.data("operator"),n=function(t){var a=t.data("condition");if(""!=a){a=a.toString().split(",");for(var e=0;e<a.length;e++)0==a[e].indexOf("option_")&&(a[e]=a[e].replace("option_",""),a[e]=a[e].replace("_",","))}return a}(t);if(0<n.length){a=n,e=!1,q(".yith_wapo_groups_container").find(".ywapo_group_container").each(function(){var t=b(q(this).data("id"),a);(0<=t||"option"==t)&&q(this).hasClass("ywapo_conditional_hidden")&&(e=!0)});if(0,void 0!==g&&null!=g){var r=b(g.toString(),n);if(0<=r||"option"==r){var s=function(t,a,e,o,i){{if("option"!=o)return 0<a.length&&0<=a[0];for(var n=!0,r=0;r<e.length;r++){var s=e[r];if(0<=s.indexOf(",")){var p=s.split(",")[0],c=s.split(",")[1].toString();if(t==p.toString()&&""!=c){var d=q.inArray(c,a);if("and"==i)0<=d||(n=!1);else if(n=!1,0<=d)return!0}}}return n}}(g.toString(),f,n,r,i);t.attr("id"),g.toString();if("and"==i){for(var p=!0,c="",d="",l="",_="",u=!1,h=!1,y=!1,w=0;w<n.length&&0!=p;w++)(c=n[w]).split(",")[0],l="ywapo_ctrl_id_"+(d=c.split(",")[0])+"_"+c.split(",")[1],_="ywapo_select_"+d,y=h=u=!1,"undefined"==document.getElementById(l)&&"undefined"==document.getElementById(_)||(document.getElementById(l).classList.contains("ywapo_input_container_labels")?u=document.getElementById(l).classList.contains("ywapo_selected"):"checkbox"==document.getElementById(l).type||"radio"==document.getElementById(l).type?u=document.getElementById(l).checked:"hidden"==document.getElementById(l).type?u=jQuery("#"+l).parent().hasClass("ywapo_selected"):"text"==document.getElementById(l).type?y=""!=document.getElementById(l).value:"select-one"==document.getElementById(_).type&&(h=jQuery("#"+_+" option:selected").attr("id")==l)),p=!!(u||y||h);s=p}s?(t.removeClass("ywapo_conditional_hidden"),t.addClass("ywapo_conditional_matched"),t.addClass("ywapo_conditional_matched_"+g),t.hasClass("ywapo_conditional_variation_hidden")||C(t)):(t.addClass("ywapo_conditional_hidden"),t.removeClass("ywapo_conditional_matched"),t.removeClass("ywapo_conditional_matched_"+g),x(t))}}}}}}))}}(q(this),a,e)}),q(this).on("click",".single_add_to_cart_button",function(t){var a,e=q(this).closest("form.cart");return yith_wapo_general.do_submit=o(e),yith_wapo_general.do_submit||0<(a=e.find("button.single_add_to_cart_button")).length&&a.hasClass("loading")&&a.removeClass("loading"),yith_wapo_general.do_submit}),q(document).on("yith_ywraq_action_before",function(){return t=q("form.cart"),yith_wapo_general.do_submit=o(t),yith_wapo_general.do_submit}),q(document).on("yith_wcpb_ajax_update_price_request",function(){var e,o,i;t=q("form.cart"),e=t,0<(i=f())&&(void 0!==(o=q(".yith_wapo_groups_container"))&&o.find("input.ywapo_input.ywapo_price_percentage, select.ywapo_input option.ywapo_price_percentage, textarea.ywapo_input.ywapo_price_percentage").each(function(){var t,a=q(this);void 0!==a.data("pricetype")&&"fixed"!=a.data("pricetype")&&(t=a.closest(".ywapo_input_container"),r(e,i,a,o,t,!0,!1))})),n(t)}),q(this).on("yith-wapo-product-option-conditional",function(t,a){!function(t){var a=q(t).closest(".ywapo_group_container"),e=a.data("max-item-selected");if(0<e){switch(a.data("type")){case"checkbox":var o=a.find('input[type="checkbox"].ywapo_input');(i=a.find('input[type="checkbox"]:checked.ywapo_input')).length==e?o.each(function(){q(this).is(":checked")||q(this).attr("disabled","disabled")}):o.each(function(){q(this).removeAttr("disabled")});break;case"multiple_labels":o=a.find("div.ywapo_input_container_labels");(i=a.find("div.ywapo_input_container_labels.ywapo_selected")).length==e?o.each(function(){q(this).hasClass("ywapo_selected")||q(this).attr("disabled","disabled")}):o.each(function(){q(this).removeAttr("disabled")});break;case"number":var o=a.find('input[type="number"].ywapo_input'),i=0;o.each(function(){""!=q(this).val()&&i++}),i==e?o.each(function(){""==q(this).val()&&q(this).attr("disabled","disabled")}):o.each(function(){q(this).removeAttr("disabled")})}}}(a)}),q(this).on("yith-wapo-product-option-conditional",function(t,a){!function(t){var a=q(t).closest(".ywapo_group_container");{var e,o,i,n;"number"==a.data("type")&&(e=a.find('input[type="number"].ywapo_input'),o=0,e.each(function(){var t=q(this).val();""!=t&&(o+=parseFloat(t))}),0<(i=a.data("max-input-values-amount"))&&(i<o?(a.data("max-input-values-required","1"),a.attr("data-max-input-values-required","1")):(a.data("max-input-values-required","0"),a.attr("data-max-input-values-required","0"))),0<(n=a.data("min-input-values-amount"))&&(o<n?(a.data("min-input-values-required","1"),a.attr("data-min-input-values-required","1")):(a.data("min-input-values-required","0"),a.attr("data-min-input-values-required","0"))))}}(a)}),q(document).on("ywmmq_additional_operations",function(){n(q("form.cart"))});var t=q(this);t.find(".yith_wapo_groups_container input, .yith_wapo_groups_container select, .yith_wapo_groups_container textarea").each(function(){t.trigger("yith-wapo-product-option-conditional",q(this))}),t.trigger("yith-wapo-product-option-update"),n(t)},a(),q(document).on("qv_loader_stop yit_quick_view_loaded flatsome_quickview unero_quick_view_request_success",function(){a()}),q(".single-product .product form.cart input").keypress(function(t){t.which}),q(".single-product .product form.cart textarea").keypress(function(t){13==t.which&&a()}),q("#yith_wapo_groups_container.enable-alternate-collapse .ywapo_group_container h3").click(function(){var t=q(this);q("#yith_wapo_groups_container .ywapo_group_container h3").removeClass("toggle-open").addClass("toggle-closed").parent().find("div").hide(),q("#yith_wapo_groups_container .ywapo_group_container h3 .dashicons").removeClass("dashicons-arrow-down").addClass("dashicons-arrow-right"),t.removeClass("toggle-closed").addClass("toggle-open").parent().find("div").show(),q(".dashicons",t).removeClass("dashicons-arrow-right").addClass("dashicons-arrow-down")}),q("#yith_wapo_groups_container input[type=file]").change(function(){var t=q(this).parent().find("a.yith_wapo_reset_file").length;""!=q(this).val()&&t<1&&q(this).after('<a class="yith_wapo_reset_file" href="#">Reset</a>')}),q("#yith_wapo_groups_container").on("click",".yith_wapo_reset_file",function(t){var a=q(this).parent().find("input[type=file]").attr("name");return a="span."+(a=a.replace("[","_")).replace("]",""),q(this).parent().find("input[type=file]").val(""),q(this).parent().find(".yith_wapo_reset_file").remove(),q(".yith_ywraq_add_item_response_message").find(a).remove(),!1}),q(document).on("yith_wwraq_removed_successfully",function(){q("#yith_wapo_groups_container input[type=file]").val(""),q("#yith_wapo_groups_container .yith_wapo_reset_file").remove()}),jQuery('<div class="quantity-nav"><div class="quantity-button quantity-up">+</div><div class="quantity-button quantity-down">-</div></div>').insertAfter(".ywapo_input_container_number input"),jQuery(".ywapo_input_container_number").each(function(){var e=jQuery(this),o=e.find('input[type="number"]'),t=e.find(".quantity-up"),a=e.find(".quantity-down"),i=o.attr("min"),n=o.attr("max");t.click(function(){var t,a=parseFloat(o.val());t=isNaN(a)?0<i?i:1:n<=a?a:++a,e.find("input").val(t),e.find("input").trigger("change")}),a.click(function(){var t,a=parseFloat(o.val());isNaN(a)&&(a=0<i?i:0),t=a<=i?a:a-1,e.find("input").val(t),e.find("input").trigger("change")})}),q("select.ywapo_input").change(function(){var t,a,e=q(this).find(":selected").data("image");void 0!==e&&(t='<img src="'+e+'" style="max-width: 100%">',a=q(this).find(":selected").data("description"),q(this).prev("div.wapo_option_image").html(t),q(this).next("p.wapo_option_description").html(a))}),q("select.ywapo_input").trigger("change"),q("body").on("click",".woofood-quickview-button",function(){setTimeout(function(){a()},5e3)}),q("body").on("click",".wcpt-button, .wcpt-button-cart_refresh",function(){setTimeout(function(){a()},2e3)}),q("body").on("click",".ywapo_input_container_labels, .ywapo_input_container_checkbox",function(){var t=q(this).closest(".ywapo_group_container").data("change-featured-image"),a=q(this).find(".ywapo_single_option_image").attr("src"),e=q(this).find(".ywapo_single_option_image").attr("fullsize"),o=e?e:a;1==t&&q(".wp-post-image").attr("src",o)})});